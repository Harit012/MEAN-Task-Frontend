import{a as ge}from"./chunk-HVDP63KY.js";import{a as ye}from"./chunk-6PIYI3AS.js";import{a as fe}from"./chunk-FWL53F53.js";import{a as Te}from"./chunk-DDXHH4NN.js";import{a as B}from"./chunk-GCUPY6YI.js";import{a as P,b as v,c as N,d as ae,e as de,f as T,g as ce,h as O,i as me,j as V,o as pe,r as ue}from"./chunk-MWPMWWIU.js";import{a as le,g as he,i as u}from"./chunk-ZFVO5NLJ.js";import{$ as q,$a as j,Ab as a,Bb as A,Cb as D,Db as W,Ga as $,Ib as J,Ja as p,Ka as k,Kb as K,Lb as X,Mb as ee,Ob as te,S as U,X as Y,Y as z,_a as C,ab as G,cb as _,dc as ie,ec as M,f as be,fc as ne,gc as re,ha as L,ia as w,kb as n,kc as oe,lb as i,mb as h,nb as H,nc as se,ob as Z,qb as F,sb as b,tb as S,ub as R,vb as Q}from"./chunk-Q57VKX57.js";var ve=be(Te());var _e=(()=>{let d=class d{constructor(e){this.http=e}verifyPhoneNumber(e){return this.http.post(`${u.BASE_URL}/admin/rides/create-ride/VerifyUser`,{phone:e})}postCalculatPricing(e,r,t){return this.http.post(`${u.BASE_URL}/admin/rides/create-ride/calculate_pricings`,{zoneId:e,time:r,distance:t},{withCredentials:!0})}postRide(e){return this.http.post(`${u.BASE_URL}/admin/rides/create-ride/create-ride`,e,{withCredentials:!0})}};d.\u0275fac=function(r){return new(r||d)(Y(le))},d.\u0275prov=U({token:d,factory:d.\u0275fac,providedIn:"root"});let o=d;return o})();var xe=()=>[M,oe,P,O,N,V],Ee=(o,d)=>({"btn-warning":o,"btn-success":d}),Le=o=>({display:o});function we(o,d){o&1&&(n(0,"small"),a(1,"*Phone number is required"),i())}function ke(o,d){o&1&&(n(0,"small"),a(1,"*Phone number must be 10 DIGITS"),i())}function Re(o,d){o&1&&(n(0,"small"),a(1,"*Source is required"),i())}function Ie(o,d){o&1&&(n(0,"small"),a(1,"*Destination is required"),i())}function Fe(o,d){if(o&1){let m=F();n(0,"div",51)(1,"p"),a(2),i(),n(3,"button",52),b("click",function(){let r=L(m).index,t=S();return w(t.onRemoveStop(r))})("keypress",function(){let r=L(m).index,t=S();return w(t.onRemoveStop(r))}),i()()}if(o&2){let m=d.$implicit;p(2),A(m)}}function Ae(o,d){if(o&1&&(n(0,"div",3)(1,"div",53)(2,"label",54),a(3,"Distance :- "),i(),n(4,"div",14)(5,"p",55),a(6),i()()(),n(7,"div",12)(8,"label",56),a(9,"Time:- "),i(),n(10,"div",14)(11,"p",57),a(12),i()()()()),o&2){let m=S();p(6),D(" ",m.calculated_distance," "),p(6),D(" ",m.calculated_time," ")}}function De(o,d){if(o&1&&(H(0,60),h(1,"input",61),n(2,"label",62)(3,"div"),h(4,"img",63),n(5,"p")(6,"b"),a(7,"Type:- "),i(),a(8),i(),n(9,"p")(10,"b"),a(11,"price:- "),i(),a(12),ee(13,"number"),i()()(),Z()),o&2){let m=d.$implicit,e=S(3);p(),R("id",m.vehicleType),R("value",m.vehicleType),p(),R("for",m.vehicleType),p(2),Q("src","http://44.201.133.98:3000/",m.vehicleImage,"",$),R("alt",m.vehicleType),p(4),A(m.vehicleType),p(4),W(" ",e.currency," ",te(13,9,m.price,".2-2")," ")}}function Me(o,d){if(o&1&&C(0,De,14,12,"ng-container",59),o&2){let m=S(2);_("ngForOf",m.vehiclePricings)}}function Pe(o,d){o&1&&(n(0,"h3"),a(1,"Loading ......"),i())}function Ne(o,d){o&1&&(n(0,"div",30)(1,"label",58),a(2,"Service Type :-"),i(),C(3,Me,1,1)(4,Pe,2,0),j(5,3,xe,null,4),G(2e3),i())}function Oe(o,d){o&1&&(n(0,"div",65),h(1,"input",70),n(2,"label",71),h(3,"img",72),i()())}function Ve(o,d){if(o&1&&(n(0,"div",30)(1,"label",64),a(2,"Service Type :-"),i(),n(3,"div",65),h(4,"input",66),n(5,"label",67),h(6,"img",68),i()(),C(7,Oe,4,0,"div",69),i()),o&2){let m=S();p(7),_("ngIf",m.hasCard)}}function Be(o,d){if(o&1){let m=F();n(0,"div",30)(1,"label",73),a(2,"Select Time of Ride :-"),i(),n(3,"div",31)(4,"input",74),b("click",function(){L(m);let r=S();return w(r.onSelectSchedule())}),i(),n(5,"label",75),a(6,"Schedule"),i()(),n(7,"div",31)(8,"input",76),b("click",function(){L(m);let r=S();return w(r.onClickNow())}),i(),n(9,"label",77),a(10,"Now"),i()()()}}var et=(()=>{let d=class d{constructor(e,r,t,l){this.createRideService=e,this.settingsService=r,this.cityService=t,this.cardService=l,this.toastr=z(he),this.isVerified=!1,this.isCalulated=!1,this.vehiclePricings=[],this.stopsArray=[],this.hasCard=!1,this.calculated_stops=[],this.calculated_stopPoints=[],this.calculated_startEndLatLng=[],this.markers=[],this.stopMarkers=[],this.stopLatLngs=[],this.mapStyle=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c6d2d2"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{color:"#e1eaea"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],this.directionsRenderer=new google.maps.DirectionsRenderer({hideRouteList:!0,polylineOptions:{strokeColor:"green",strokeOpacity:1,strokeWeight:3}}),this.rideForm=new de({phone:new T(null,[v.required,v.pattern("^[1-9]{1}[0-9]{9}$"),v.maxLength(10),v.minLength(10)]),userName:new T(null,[v.required]),userEmail:new T(null,[v.required,v.email]),source:new T(null,[v.required]),destination:new T(null,[v.required]),stops:new T([]),serviceType:new T(null,[v.required]),paymentMethod:new T(null,[v.required]),rideTime:new T(null,[v.required]),rideType:new T(null,[v.required])})}get stops(){return this.rideForm.get("stops")}createMarkersFromImage(e){let r=document.createElement("img");return r.src=e,r.height=50,r.width=50,r}ngOnInit(){this.settingsService.getSettings().subscribe({next:e=>{this.settings=e.settings}})}ngAfterViewInit(){this.initMap()}initMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:52.7572,lng:12.8022},zoom:10,styles:this.mapStyle,mapId:"8f2d9c7f9f9f8a9f"}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{this.map.setCenter({lat:e.coords.latitude,lng:e.coords.longitude})})}onVerifyPhoneNumber(){if(this.rideForm.get("phone")?.valid){if(this.isVerified&&this.verifiedUser.phone==this.rideForm.get("phone")?.value){this.toastr.info("Phone number already verified","",u.TROASTR_STYLE);return}let e=this.rideForm.get("phone")?.value;this.createRideService.verifyPhoneNumber(e).subscribe({next:r=>{if(r.user!=null){this.isVerified=!0,this.verifiedUser=r.user,this.currency=this.verifiedUser.country.currency.slice(this.verifiedUser.country.currency.indexOf("(")+1,this.verifiedUser.country.currency.indexOf(")")),this.autocompleteCountry=this.verifiedUser.country.countryShortName,this.rideForm.patchValue({userName:this.verifiedUser.userName,userEmail:this.verifiedUser.userEmail});let t=document.getElementById("userName"),l=document.getElementById("userEmail");t.innerText=this.verifiedUser.userName,l.innerText=this.verifiedUser.userEmail,this.toastr.success(`Phone number matched with ${this.verifiedUser.userName.toUpperCase()}`,"",u.TROASTR_STYLE),this.cityService.getZones(this.verifiedUser.country._id).subscribe({next:s=>{this.zones=s.zones}}),this.autocomplete(),this.cardService.getCards(this.verifiedUser.customerId).subscribe({next:s=>{s.data.length==0?(this.hasCard=!1,this.toastr.warning("user do not have any registered cards","Payment",u.TROASTR_STYLE)):this.hasCard=!0}})}else this.toastr.warning("No User Found","Sorry",u.TROASTR_STYLE)}})}else this.toastr.error("Phone number is not Valid","Error",u.TROASTR_STYLE)}onAddStop(){let e=document.createElement("div");if(e.style.backgroundImage='url("https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.pngegg.com%2Fen%2Fsearch%3Fq%3Dmap%2Bpin&psig=AOvVaw3JT44dx-r4JDeRfspEjQc2&ust=1721469325472000&source=images&cd=vfe&opi=89978449&ved=0CBEQjRxqFwoTCNCw0pDrsocDFQAAAAAdAAAAABAE")',e.style.backgroundSize="contain",e.style.width="50px",e.style.height="50px",this.stopsArray.length<this.settings.stops)if(this.stopDetails!=null){let r=new google.maps.marker.AdvancedMarkerElement({position:this.stopDetails.placeLatLng,title:this.stopDetails.place.name,content:this.createMarkersFromImage("../../assets/Images/pin.png"),map:this.map});this.stopMarkers[this.stopsArray.length]=r,this.stopLatLngs[this.stopsArray.length]=this.stopDetails.placeLatLng,this.stopsArray[this.stopsArray.length]=this.stopDetails.place.name,this.stopDetails=void 0;let t=document.getElementById("stopAutocomplete");t.value=""}else this.toastr.warning("Please select a stop","warning",u.TROASTR_STYLE);else this.toastr.warning(`You can't add more than ${this.settings.stops} stops`,"",u.TROASTR_STYLE)}onRemoveStop(e){this.stopMarkers=this.stopMarkers.slice(0,e).concat(this.stopMarkers.slice(e+1,this.stopMarkers.length)),this.stopsArray=this.stopsArray.slice(0,e).concat(this.stopsArray.slice(e+1,this.stopsArray.length)),this.stopLatLngs=this.stopLatLngs.slice(0,e).concat(this.stopLatLngs.slice(e+1,this.stopLatLngs.length))}getCurrentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{this.center={lat:e.coords.latitude,lng:e.coords.longitude},this.map.setCenter(this.center),this.isCurrentLocationValid()}):this.toastr.info("Geolocation is not supported by this browser","Info",u.TROASTR_STYLE)}isCurrentLocationValid(){let e,r=new google.maps.Geocoder,t=document.getElementById("source"),l="none";for(let s of this.zones){let c=new google.maps.Polygon({paths:s.boundry});if(google.maps.geometry.poly.containsLocation(this.center,c))l=s.zoneName,this.sourceZoneId=s._id;else continue}l!="none"?(r.geocode({location:this.center}).then(s=>{this.rideForm.patchValue({source:s.results[0].formatted_address}),t.innerHTML=s.results[0].formatted_address}),e=new google.maps.marker.AdvancedMarkerElement({map:this.map,position:this.center,title:t.innerHTML,gmpDraggable:!0,content:this.createMarkersFromImage("../../assets/Images/SourcePin.png")}),this.sourceLatLng=this.center,this.markers[0]=e):this.toastr.info("Sorry we are not yet available in Your Current location","Info",u.TROASTR_STYLE)}onCreateRide(){let e=[],r=0,t=0;if(this.rideForm.valid){for(let s of this.vehiclePricings)if(s.vehicleType==this.rideForm.value.serviceType)r=Number(s.price.toFixed(2)),t=Number(s.driverProfit.toFixed(2));else continue;let l={userId:this.verifiedUser._id,username:this.rideForm.value.userName,useremail:this.rideForm.value.userEmail,userphone:this.rideForm.value.phone,source:this.calculated_source,destination:this.calculated_destination,stops:this.calculated_stops,serviceType:this.rideForm.value.serviceType,paymentmethod:this.rideForm.value.paymentMethod,ridetime:this.rideForm.value.rideTime,distance:this.calculated_distance,time:this.calculated_time,price:r,driverProfit:t,rideType:this.rideForm.value.rideType,endPoints:this.calculated_startEndLatLng,stopPoints:this.calculated_stopPoints,sourceCity:this.sourceZoneId};this.createRideService.postRide(l).subscribe({next:s=>{this.toastr.success("Ride Has Been Created","Success",u.TROASTR_STYLE),this.initMap(),this.rideForm.reset(),this.isCalulated=!1,this.isVerified=!1,this.stopLatLngs=[],this.stopDetails=[],this.stopMarkers=[],this.stopsArray=[]}})}else{let l=this.rideForm.controls;this.rideForm.markAsDirty(),this.rideForm.markAllAsTouched();for(let s in l)if(l[s].invalid)e.push(s);else continue;this.toastr.error("Invalid Fields: "+e,"Error",u.TROASTR_STYLE)}}autocomplete(){this.autocompleteOptions={componentRestrictions:{country:this.autocompleteCountry},types:["establishment"],fields:["address_components","geometry","name","place_id"]},this.autoComplete1=new google.maps.places.Autocomplete(document.getElementById("source"),this.autocompleteOptions),this.autoComplete2=new google.maps.places.Autocomplete(document.getElementById("destination"),this.autocompleteOptions),this.autoComplete3=new google.maps.places.Autocomplete(document.getElementById("stopAutocomplete"),this.autocompleteOptions),this.onSourceChange(),this.onDestinationChange(),this.onStopchange()}onSourceChange(){this.autoComplete1.addListener("place_changed",()=>{let e="none",r,t=this.autoComplete1.getPlace(),l=new google.maps.LatLngBounds,s=document.getElementById("source"),c={lat:t.geometry?.location?.lat(),lng:t.geometry?.location?.lng()};for(let g of this.zones){let y=new google.maps.Polygon({paths:g.boundry});if(google.maps.geometry.poly.containsLocation(c,y))e=g.zoneName,this.sourceZoneId=g._id;else continue}e!="none"?(r=new google.maps.marker.AdvancedMarkerElement({map:this.map,position:c,title:t.name,gmpDraggable:!1,content:this.createMarkersFromImage("../../assets/Images/SourcePin.png")}),this.rideForm.patchValue({source:t.name}),this.markers[0]=r,this.map.panTo(c),this.sourceLatLng=c,this.markers.forEach(g=>{l.extend(g.position)}),this.map.fitBounds(l)):(this.toastr.info(`Sorry we are not yet available in ${t.name}`,"Info",u.TROASTR_STYLE),s.value=""),this.destinationLatLng?.lat===this.sourceLatLng?.lat&&this.destinationLatLng?.lng===this.sourceLatLng?.lng&&(this.toastr.warning("Source and Destination cannot be same","Info",u.TROASTR_STYLE),s.value="",this.sourceLatLng=void 0)})}onDestinationChange(){let e=document.getElementById("destination");this.autoComplete2.addListener("place_changed",()=>{let r,t=this.autoComplete2.getPlace(),l=new google.maps.LatLngBounds,s={lat:t.geometry?.location?.lat(),lng:t.geometry?.location?.lng()};r=new google.maps.marker.AdvancedMarkerElement({map:this.map,position:s,title:t.name,gmpDraggable:!1,content:this.createMarkersFromImage("../../assets/Images/DestinationPin2.png")}),this.rideForm.patchValue({destination:t.name}),this.destinationLatLng=s,this.destinationLatLng.lat===this.sourceLatLng?.lat&&this.destinationLatLng.lng===this.sourceLatLng?.lng&&(this.toastr.warning("Source and Destination cannot be same","Info",u.TROASTR_STYLE),e.value=""),this.map.panTo(s),this.markers[1]=r,this.markers.forEach(c=>{l.extend(c.position)}),this.map.fitBounds(l)})}onStopchange(){this.autoComplete3.addListener("place_changed",()=>{let e=this.autoComplete3.getPlace(),r={lat:e.geometry?.location?.lat(),lng:e.geometry?.location?.lng()};this.stopDetails={place:e,placeLatLng:r}})}onClickCalculatePricing(){if(this.rideForm.value.source==null||this.rideForm.value.destination==null||this.sourceLatLng==null||this.destinationLatLng==null){this.toastr.warning("Source and Destination is not correct","Error",u.TROASTR_STYLE);return}this.vehiclePricings=[];let e=new google.maps.DirectionsService,r={origin:this.sourceLatLng,destination:this.destinationLatLng,travelMode:google.maps.TravelMode.DRIVING,waypoints:this.stopLatLngs.map(t=>({location:t,stopover:!0})),optimizeWaypoints:!0};e.route(r,(t,l)=>{this.directionsRenderer.setMap(null),this.directionsRenderer.setMap(this.map),this.directionsRenderer.setDirections(t);let s=0,c=0;t.routes[0].legs.forEach(x=>{s+=x.distance.value,c+=x.duration.value}),s=Number((s/1e3).toFixed(2)),this.calculated_distance=`${s} Km.`,c=c/60;let y=Math.ceil(c%60),f=Math.floor(c/60),I=Math.floor(f/24),E;f==0?E=`${y} Minutes`:f>0&&f<24?E=`${f} Hours , ${y} Minutes`:E=`${I} Days , ${f%24} Hours , ${y} Minutes`,this.calculated_time=E,this.createRideService.postCalculatPricing(this.sourceZoneId,c,s).subscribe({next:x=>{this.vehiclePricings=x.prices}})}),this.isCalulated=!0,this.calculated_source=this.rideForm.get("source")?.value,this.calculated_destination=this.rideForm.get("destination")?.value,this.calculated_stopPoints=this.stopLatLngs,this.calculated_startEndLatLng.push(this.sourceLatLng),this.calculated_startEndLatLng.push(this.destinationLatLng),this.rideForm.patchValue({stops:this.stopsArray}),this.calculated_stops=this.rideForm.get("stops")?.value}onClickNow(){let e=new Date;this.rideForm.patchValue({rideTime:e,rideType:"Now"})}onSelectSchedule(){this.rideForm.patchValue({rideTime:null});let e=document.getElementById("schedule");e.selected=!0,B.getOrCreateInstance(document.getElementById("dateAndTimeModal")).show()}onSubmitDateAndTime(){let e=B.getOrCreateInstance(document.getElementById("dateAndTimeModal")),r=document.getElementById("dateInputInModal"),t=new Date,l=r.value,s=l.slice(0,10),c=l.slice(11,19),g=Number(s.slice(0,4)),y=Number(s.slice(5,7)),f=Number(s.slice(8,10)),I=Number(c.slice(0,2)),E=Number(c.slice(3,5)),x=new Date(g,y-1,f,I,E);x>t?(this.rideForm.patchValue({rideTime:x,rideType:"Scheduled"}),e.toggle()):this.toastr.warning("Date or Time from past are not allowed","Invalid Date and Time",u.TROASTR_STYLE)}onReset(){let e=ve.default.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});e.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Reset it!",cancelButtonText:"No, cancel!",reverseButtons:!0,showClass:{popup:`
          animate__animated
          animate__fadeInDown
          animate__fast
        `},hideClass:{popup:`
          animate__animated
          animate__fadeOutDown
          animate__faster
        `}}).then(r=>{r.isConfirmed&&(this.initMap(),this.rideForm.reset(),this.isCalulated=!1,this.isVerified=!1,this.stopLatLngs=[],this.stopDetails=[],this.stopMarkers=[],this.stopsArray=[],e.fire({title:"Done!",text:"Your Form is Reset.",icon:"success"}))})}allowOnlyDigits(e){!/^\d+$/.test(e.key)&&e.key!=="Backspace"&&e.key!=="Tab"&&e.preventDefault()}};d.\u0275fac=function(r){return new(r||d)(k(_e),k(ge),k(fe),k(ye))},d.\u0275cmp=q({type:d,selectors:[["app-create-rides"]],standalone:!0,features:[J],decls:83,vars:18,consts:[[1,"container",2,"width","84dvw"],[1,"row"],[3,"formGroup"],[1,"row","mt-4"],[1,"col-10","d-flex"],["for","Phone",1,"col-2","label"],[1,"col-5"],[1,"d-flex"],["type","text","id","phone","formControlName","phone","placeholder","Enter User's Phone no.","maxlength","10",1,"form-control",3,"keydown"],["type","button",1,"btn","ms-4",3,"click","keypress","ngClass","disabled"],[4,"ngIf"],[3,"ngStyle"],[1,"d-flex","col-6"],["for","userName",1,"col-3","label"],[1,"ms-3","col-7"],["id","userName",1,"userDetails"],["for","userEmail",1,"col-3","label"],["id","userEmail",1,"userDetails"],["for","source",1,"col-3","label"],[1,"col-7"],["type","text","id","source","formControlName","source","placeholder","Enter Source Location",1,"form-control","ms-3"],["type","button","id","currentLocationSelector","data-toggle","tooltip","title","Get Current Location",1,"ms-3","btn","btn-info",3,"click"],[1,"fas","fa-location"],["for","destination",1,"col-3","label"],["type","text","id","destination","formControlName","destination","placeholder","Enter Destination ",1,"form-control"],[1,"d-flex","col-10"],["for","stopAutocomplete",1,"col-2","label"],[1,"d-flex","col-4"],["id","stopAutocomplete","type","text","placeholder","Enter Stop",1,"form-control","stops"],["type","button",1,"ms-3","btn","btn-danger",3,"click"],[1,"row","mt-4","d-flex"],[1,"col-2"],["class","d-flex stopsBox me-1",4,"ngFor","ngForOf"],["class","row mt-4",4,"ngIf"],["class","row mt-4 d-flex",4,"ngIf"],["id","dateAndTimeModal","tabindex","-1","aria-labelledby","dateAndTimePickerModal","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","dateAndTimePickerModal",1,"modal-title","fs-5"],[1,"modal-body"],["id","dateInputInModal","type","datetime-local",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"row","mb-4"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-success","me-4",3,"click"],["type","button",1,"btn","btn-dark","me-4",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["id","map"],[1,"d-flex","stopsBox","me-1"],["type","button",1,"ms-3","btn-close",3,"click","keypress"],[1,"d-flex","col-6","align-self-center"],["for","estimatedDistance",1,"col-3","label"],["id","estimatedDistance",1,"userDetails"],["for","estimatedTime",1,"col-3","label"],["id","estimatedTime",1,"userDetails"],["for","serviceType",1,"col-2","label"],["class","",4,"ngFor","ngForOf"],[1,""],["type","radio","name","serviceType","formControlName","serviceType",1,"align-self-center",3,"id","value"],[1,"box","samllLabel","me-2",3,"for"],["width","100%","height","80px",1,"mb-2",3,"src","alt"],["for","paymentMethod",1,"col-2","label"],[1,"col-3","d-flex"],["type","radio","name","paymentMethod","formControlName","paymentMethod","id","cash","value","cash",1,"align-self-center"],["for","cash",1,"samllLabel","me-2","ms-2"],["src","../../../../assets/Images/cash.jpg","alt","Cash","height","40px","width","60px"],["class","col-3 d-flex",4,"ngIf"],["type","radio","name","paymentMethod","formControlName","paymentMethod","id","card","value","card",1,"align-self-center"],["for","card",1,"samllLabel","me-2","ms-2"],["src","../../../../assets/Images/card2.jpg","alt","Cash","height","40px","width","60px"],["for","rideTime",1,"col-2","label"],["type","radio","name","rideTime","id","schedule",3,"click"],["for","schedule",1,"ms-2","label","align-self-center"],["type","radio","name","rideTime","id","now",3,"click"],["for","now",1,"ms-2","label","align-self-center"]],template:function(r,t){if(r&1&&(n(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"label",5),a(6,"Phone :- "),i(),n(7,"div",6)(8,"div",7)(9,"input",8),b("keydown",function(s){return t.allowOnlyDigits(s)}),i(),n(10,"button",9),b("click",function(){return t.onVerifyPhoneNumber()})("keypress",function(){return t.onVerifyPhoneNumber()}),a(11," Verify "),i()(),C(12,we,2,0,"small",10)(13,ke,2,0,"small",10),i()()(),n(14,"div",11)(15,"div",3)(16,"div",12)(17,"label",13),a(18,"UserName :- "),i(),n(19,"div",14),h(20,"p",15),i()(),n(21,"div",12)(22,"label",16),a(23,"User Email :- "),i(),n(24,"div",14),h(25,"p",17),i()()(),n(26,"div",3)(27,"div",12)(28,"label",18),a(29,"Source :- "),i(),n(30,"div",19)(31,"div",7),h(32,"input",20),n(33,"button",21),b("click",function(){return t.getCurrentLocation()}),h(34,"i",22),i()(),C(35,Re,2,0,"small",10),i()(),n(36,"div",12)(37,"label",23),a(38,"Destination :- "),i(),n(39,"div",14),h(40,"input",24),C(41,Ie,2,0,"small",10),i()()(),n(42,"div",3)(43,"div",25)(44,"label",26),a(45,"Stop :-"),i(),n(46,"div",27),h(47,"input",28),n(48,"button",29),b("click",function(){return t.onAddStop()}),a(49," Add "),i()()()(),n(50,"div",30),h(51,"div",31),C(52,Fe,4,1,"div",32),i(),C(53,Ae,13,2,"div",33)(54,Ne,7,0,"div",34)(55,Ve,8,1,"div",34)(56,Be,11,0,"div",34),n(57,"div",35)(58,"div",36)(59,"div",37)(60,"div",38)(61,"h1",39),a(62," Schedule Your Ride "),i()(),n(63,"div",40),h(64,"input",41),i(),n(65,"div",42)(66,"button",43),b("click",function(){return t.onSubmitDateAndTime()}),a(67," Save changes "),i(),n(68,"button",44),a(69," close "),i()()()()(),h(70,"hr"),n(71,"div",45)(72,"div",46)(73,"button",47),b("click",function(){return t.onCreateRide()}),a(74," Create Ride "),i(),n(75,"button",48),b("click",function(){return t.onClickCalculatePricing()}),a(76," Calculate Distance "),i(),n(77,"button",49),b("click",function(){return t.onReset()}),a(78,"Reset"),i()()(),h(79,"hr"),i(),n(80,"div",3),h(81,"div",50),i(),h(82,"hr"),i()()()),r&2){let l,s,c,g,y,f;p(2),_("formGroup",t.rideForm),p(8),_("ngClass",X(13,Ee,(l=t.rideForm.get("phone"))==null?null:l.invalid,(l=t.rideForm.get("phone"))==null?null:l.valid))("disabled",(s=t.rideForm.get("phone"))==null?null:s.invalid),p(2),_("ngIf",((c=t.rideForm.get("phone"))==null||c.errors==null?null:c.errors.required)&&(((c=t.rideForm.get("phone"))==null?null:c.dirty)||((c=t.rideForm.get("phone"))==null?null:c.touched))),p(),_("ngIf",((g=t.rideForm.get("phone"))==null||g.errors==null?null:g.errors.pattern)&&(((g=t.rideForm.get("phone"))==null?null:g.dirty)||((g=t.rideForm.get("phone"))==null?null:g.touched))),p(),_("ngStyle",K(16,Le,t.isVerified?"block":"none")),p(21),_("ngIf",((y=t.rideForm.get("source"))==null||y.errors==null?null:y.errors.required)&&(((y=t.rideForm.get("source"))==null?null:y.dirty)||((y=t.rideForm.get("source"))==null?null:y.touched))),p(6),_("ngIf",((f=t.rideForm.get("destination"))==null||f.errors==null?null:f.errors.required)&&(((f=t.rideForm.get("destination"))==null?null:f.dirty)||((f=t.rideForm.get("destination"))==null?null:f.touched))),p(11),_("ngForOf",t.stopsArray),p(),_("ngIf",t.isCalulated),p(),_("ngIf",t.isCalulated),p(),_("ngIf",t.isCalulated),p(),_("ngIf",t.isCalulated)}},dependencies:[se,ie,M,ne,re,ue,ce,P,O,N,ae,pe,me,V],styles:["hr[_ngcontent-%COMP%]{border:2px solid gray}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border:1px solid gray}.label[_ngcontent-%COMP%]{font-weight:700;font-size:large;align-self:center}.samllLabel[_ngcontent-%COMP%]{font-size:medium;font-weight:500}.button-color[_ngcontent-%COMP%]{background-color:#ff820450;color:#faebd7}#map[_ngcontent-%COMP%]{margin:1rem;width:97%;height:65vh}#currentLocationSelector[_ngcontent-%COMP%]{color:#020207;font-size:large}#currentLocationSelector[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#f2ee0e;font-size:larger}input[type=radio][_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.box[_ngcontent-%COMP%]{padding:.5rem;margin-left:1rem;border:1px solid #ccc;border-radius:15px;background:radial-gradient(circle,#ff7e5f,#feb47b);width:max-content;display:flex;align-items:center;justify-content:center}.userDetails[_ngcontent-%COMP%]{font-size:larger;font-weight:500;margin-top:3%}.stopsBox[_ngcontent-%COMP%]{background-color:#00ffff3a;color:#000;padding:.25rem;font-size:small;font-weight:400;width:fit-content;height:fit-content;align-content:center}"]});let o=d;return o})();export{et as CreateRidesComponent};
