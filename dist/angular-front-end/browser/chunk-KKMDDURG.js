import{a as ne}from"./chunk-HVDP63KY.js";import"./chunk-N5VNVSCG.js";import{f as le}from"./chunk-WU2B4YHF.js";import{a as $,b as m,c as Y,d as z,e as B,f as p,g as H,i as J,j as Q,k as W,l as X,m as Z,r as ee}from"./chunk-MWPMWWIU.js";import{g as te,i as q}from"./chunk-ZFVO5NLJ.js";import{$ as M,Ab as i,Cb as L,Ib as R,Ja as o,Ka as K,Y as U,_a as a,cb as s,ec as G,fc as V,kb as t,lb as l,mb as d,nc as j,sb as D,ub as x}from"./chunk-Q57VKX57.js";function ie(n,r){if(n&1&&(t(0,"option",32),i(1),l()),n&2){let k=r.$implicit;x("value",k),o(),L(" ",k," ")}}function re(n,r){n&1&&(t(0,"small"),i(1,"*Phone number is required"),l())}function oe(n,r){if(n&1&&(t(0,"option",32),i(1),l()),n&2){let k=r.$implicit;x("value",k),o(),L(" ",k," ")}}function se(n,r){n&1&&(t(0,"small"),i(1,"* public_key is required"),l())}function me(n,r){n&1&&(t(0,"small"),i(1,"*public_key should not be more then 107 characters"),l())}function ue(n,r){n&1&&(t(0,"small"),i(1,"*public_key should not be less then 107 characters"),l())}function ae(n,r){n&1&&(t(0,"small"),i(1,"*secret_key is required"),l())}function de(n,r){n&1&&(t(0,"small"),i(1,"*secret_key should not be more then 107 characters"),l())}function pe(n,r){n&1&&(t(0,"small"),i(1,"*secret_key should not be less then 107 characters"),l())}function ge(n,r){n&1&&(t(0,"small"),i(1,"* UserEmail is required"),l())}function ce(n,r){n&1&&(t(0,"small"),i(1,"*Formate should be email"),l())}function he(n,r){n&1&&(t(0,"small"),i(1,"* Password is required"),l())}function fe(n,r){n&1&&(t(0,"small"),i(1,"* AuthToken is required"),l())}function Se(n,r){n&1&&(t(0,"small"),i(1,"*AuthToken should not be more then 32 characters"),l())}function _e(n,r){n&1&&(t(0,"small"),i(1,"*AuthToken should not be less then 32 characters"),l())}function be(n,r){n&1&&(t(0,"small"),i(1,"* SID is required"),l())}function ye(n,r){n&1&&(t(0,"small"),i(1,"*SID should not be more then 34 characters"),l())}function ve(n,r){n&1&&(t(0,"small"),i(1,"*SID should not be less then 34 characters"),l())}function Fe(n,r){n&1&&(t(0,"small"),i(1,"*PhoneNumber is required"),l())}function we(n,r){n&1&&(t(0,"small"),i(1,"*Must have countryCallcode and 10 digits"),l())}var Ue=(()=>{let r=class r{constructor(u,N){this.settingsService=u,this.authService=N,this.formdata=new FormData,this.timeOutOptions=[10,20,30,45,60,90],this.stopOptions=[1,2,3,4,5],this.toastr=U(te),this.isLoader=!1,this.settingsForm=new B({timeOut:new p(null,[m.required]),stops:new p(null,[m.required]),mailerUser:new p(null,[m.required,m.email]),mailerPassword:new p(null,[m.required]),twilioAuthToken:new p(null,[m.required,m.maxLength(32),m.minLength(32)]),twilioAccountSid:new p(null,[m.required,m.maxLength(34),m.minLength(34)]),twilioPhoneNumber:new p(null,[m.required,m.pattern("^[+][1-9]{1}[1-9]{1}[0-9]{9}$")]),stripePublishableKey:new p(null,[m.required,m.minLength(107),m.maxLength(107)]),stripeSecretKey:new p(null,[m.required,m.minLength(107),m.maxLength(107)])})}ngOnInit(){this.isLoader=!0,this.settingsService.getSettings().subscribe({next:u=>{this.settingsForm.patchValue({timeOut:u.settings.timeOut,stops:u.settings.stops,mailerUser:u.settings.mailerUser,mailerPassword:u.settings.mailerPassword,twilioAuthToken:u.settings.twilioAuthToken,twilioAccountSid:u.settings.twilioAccountSid,twilioPhoneNumber:u.settings.twilioPhoneNumber,stripePublishableKey:u.settings.stripePublishableKey,stripeSecretKey:u.settings.stripeSecretKey}),this.settingsForm.markAsPristine()}})}onSaveChanges(){this.settingsForm.valid?this.settingsForm.dirty?this.settingsService.putSettings(this.settingsForm.value).subscribe({next:u=>{this.toastr.success(`${u.message}`,"",q.TROASTR_STYLE)}}):this.toastr.info("no changes made","Info",q.TROASTR_STYLE):(this.settingsForm.markAllAsTouched(),this.toastr.error("Please fill all required fields","Error",q.TROASTR_STYLE))}};r.\u0275fac=function(N){return new(N||r)(K(ne),K(le))},r.\u0275cmp=M({type:r,selectors:[["app-settings"]],standalone:!0,features:[R],decls:100,vars:21,consts:[[1,"container",2,"width","calc(100dvw - 250px)"],[1,"row","p-2","d-flex","justify-content-between","bg-dark","text-white"],[1,"col-4"],["id","mainSection",1,"mt-2"],[3,"ngSubmit","formGroup"],[1,"scrollable-section"],[1,"row","mx-3","mt-3"],[1,"headings"],[1,"row","mt-4","mb-2","mx-5"],["for","timeOut",1,"col-3","fs-5"],[1,"col-7"],["id","timeOut","formControlName","timeOut",1,"col-6","form-select"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","stops",1,"col-3","fs-5"],["id","stops","formControlName","stops",1,"col-6","form-select"],["for","public",1,"col-3","fs-5"],["id","public","formControlName","stripePublishableKey",1,"col-6","form-control"],["for","secret",1,"col-3","fs-5"],["id","secret","formControlName","stripeSecretKey",1,"col-6","form-control"],["for","user",1,"col-3","fs-5"],["id","user","formControlName","mailerUser",1,"col-6","form-control"],["for","password",1,"col-3","fs-5"],["id","password","formControlName","mailerPassword",1,"col-6","form-control"],["for","authToken",1,"col-3","fs-5"],["id","authToken","formControlName","twilioAuthToken",1,"col-6","form-control"],["for","sid",1,"col-3","fs-5"],["id","sid","formControlName","twilioAccountSid",1,"col-6","form-control"],["for","phone",1,"col-3","fs-5"],["id","phone","formControlName","twilioPhoneNumber",1,"col-6","form-control"],[1,"offset-6","col-3"],["type","submit",1,"btn","btn-success"],[3,"value"]],template:function(N,e){if(N&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),i(3,"Settings"),l()(),t(4,"section",3)(5,"form",4),D("ngSubmit",function(){return e.onSaveChanges()}),t(6,"div",5)(7,"div",6)(8,"h3",7),i(9,"Stops "),l(),t(10,"div",8)(11,"label",9)(12,"b"),i(13,"TimeOut :-"),l()(),t(14,"div",10)(15,"select",11),a(16,ie,2,2,"option",12),l(),a(17,re,2,0,"small",13),l()(),t(18,"div",8)(19,"label",14)(20,"b"),i(21,"Stops :-"),l()(),t(22,"div",10)(23,"select",15),a(24,oe,2,2,"option",12),l()()()(),d(25,"hr"),t(26,"div",6)(27,"h3",7),i(28,"Stripe "),l(),t(29,"div",8)(30,"label",16)(31,"b"),i(32,"Public :-"),l()(),t(33,"div",10),d(34,"input",17),a(35,se,2,0,"small",13)(36,me,2,0,"small",13)(37,ue,2,0,"small",13),l()(),t(38,"div",8)(39,"label",18)(40,"b"),i(41,"Secret :-"),l()(),t(42,"div",10),d(43,"input",19),a(44,ae,2,0,"small",13)(45,de,2,0,"small",13)(46,pe,2,0,"small",13),l()()(),d(47,"hr"),t(48,"div",6)(49,"h3",7),i(50,"Mailer "),l(),t(51,"div",8)(52,"label",20)(53,"b"),i(54,"User :-"),l()(),t(55,"div",10),d(56,"input",21),a(57,ge,2,0,"small",13)(58,ce,2,0,"small",13),l()(),t(59,"div",8)(60,"label",22)(61,"b"),i(62,"Password :-"),l()(),t(63,"div",10),d(64,"input",23),a(65,he,2,0,"small",13),l()()(),d(66,"hr"),t(67,"div",6)(68,"h3",7),i(69,"Twilio "),l(),t(70,"div",8)(71,"label",24)(72,"b"),i(73,"AuthToken :-"),l()(),t(74,"div",10),d(75,"input",25),a(76,fe,2,0,"small",13)(77,Se,2,0,"small",13)(78,_e,2,0,"small",13),l()(),t(79,"div",8)(80,"label",26)(81,"b"),i(82,"SID :-"),l()(),t(83,"div",10),d(84,"input",27),a(85,be,2,0,"small",13)(86,ye,2,0,"small",13)(87,ve,2,0,"small",13),l()(),t(88,"div",8)(89,"label",28)(90,"b"),i(91,"Phone :-"),l()(),t(92,"div",10),d(93,"input",29),a(94,Fe,2,0,"small",13)(95,we,2,0,"small",13),l()()()(),t(96,"div",6)(97,"div",30)(98,"button",31),i(99,"Update"),l()()()()()()),N&2){let g,c,h,f,S,_,b,y,v,F,w,T,E,C,P,A,I,O;o(5),s("formGroup",e.settingsForm),o(11),s("ngForOf",e.timeOutOptions),o(),s("ngIf",((g=e.settingsForm.get("timeOut"))==null||g.errors==null?null:g.errors.required)&&(((g=e.settingsForm.get("timeOut"))==null?null:g.dirty)||((g=e.settingsForm.get("timeOut"))==null?null:g.touched))),o(7),s("ngForOf",e.stopOptions),o(11),s("ngIf",((c=e.settingsForm.get("stripePublishableKey"))==null||c.errors==null?null:c.errors.required)&&(((c=e.settingsForm.get("stripePublishableKey"))==null?null:c.dirty)||((c=e.settingsForm.get("stripePublishableKey"))==null?null:c.touched))),o(),s("ngIf",((h=e.settingsForm.get("stripePublishableKey"))==null||h.errors==null?null:h.errors.maxlength)&&(((h=e.settingsForm.get("stripePublishableKey"))==null?null:h.dirty)||((h=e.settingsForm.get("stripePublishableKey"))==null?null:h.touched))),o(),s("ngIf",((f=e.settingsForm.get("stripePublishableKey"))==null||f.errors==null?null:f.errors.minlength)&&(((f=e.settingsForm.get("stripePublishableKey"))==null?null:f.dirty)||((f=e.settingsForm.get("stripePublishableKey"))==null?null:f.touched))),o(7),s("ngIf",((S=e.settingsForm.get("stripeSecretKey"))==null||S.errors==null?null:S.errors.required)&&(((S=e.settingsForm.get("stripeSecretKey"))==null?null:S.dirty)||((S=e.settingsForm.get("stripeSecretKey"))==null?null:S.touched))),o(),s("ngIf",((_=e.settingsForm.get("stripeSecretKey"))==null||_.errors==null?null:_.errors.maxlength)&&(((_=e.settingsForm.get("stripeSecretKey"))==null?null:_.dirty)||((_=e.settingsForm.get("stripeSecretKey"))==null?null:_.touched))),o(),s("ngIf",((b=e.settingsForm.get("stripeSecretKey"))==null||b.errors==null?null:b.errors.minlength)&&(((b=e.settingsForm.get("stripeSecretKey"))==null?null:b.dirty)||((b=e.settingsForm.get("stripeSecretKey"))==null?null:b.touched))),o(11),s("ngIf",((y=e.settingsForm.get("mailerUser"))==null||y.errors==null?null:y.errors.required)&&(((y=e.settingsForm.get("mailerUser"))==null?null:y.dirty)||((y=e.settingsForm.get("mailerUser"))==null?null:y.touched))),o(),s("ngIf",((v=e.settingsForm.get("mailerUser"))==null||v.errors==null?null:v.errors.email)&&(((v=e.settingsForm.get("mailerUser"))==null?null:v.dirty)||((v=e.settingsForm.get("mailerUser"))==null?null:v.touched))),o(7),s("ngIf",((F=e.settingsForm.get("mailerPassword"))==null||F.errors==null?null:F.errors.required)&&(((F=e.settingsForm.get("mailerPassword"))==null?null:F.dirty)||((F=e.settingsForm.get("mailerPassword"))==null?null:F.touched))),o(11),s("ngIf",((w=e.settingsForm.get("twilioAuthToken"))==null||w.errors==null?null:w.errors.required)&&(((w=e.settingsForm.get("twilioAuthToken"))==null?null:w.dirty)||((w=e.settingsForm.get("twilioAuthToken"))==null?null:w.touched))),o(),s("ngIf",((T=e.settingsForm.get("twilioAuthToken"))==null||T.errors==null?null:T.errors.maxlength)&&(((T=e.settingsForm.get("twilioAuthToken"))==null?null:T.dirty)||((T=e.settingsForm.get("twilioAuthToken"))==null?null:T.touched))),o(),s("ngIf",((E=e.settingsForm.get("twilioAuthToken"))==null||E.errors==null?null:E.errors.minlength)&&(((E=e.settingsForm.get("twilioAuthToken"))==null?null:E.dirty)||((E=e.settingsForm.get("twilioAuthToken"))==null?null:E.touched))),o(7),s("ngIf",((C=e.settingsForm.get("twilioAccountSid"))==null||C.errors==null?null:C.errors.required)&&(((C=e.settingsForm.get("twilioAccountSid"))==null?null:C.dirty)||((C=e.settingsForm.get("twilioAccountSid"))==null?null:C.touched))),o(),s("ngIf",((P=e.settingsForm.get("twilioAccountSid"))==null||P.errors==null?null:P.errors.maxlength)&&(((P=e.settingsForm.get("twilioAccountSid"))==null?null:P.dirty)||((P=e.settingsForm.get("twilioAccountSid"))==null?null:P.touched))),o(),s("ngIf",((A=e.settingsForm.get("twilioAccountSid"))==null||A.errors==null?null:A.errors.minlength)&&(((A=e.settingsForm.get("twilioAccountSid"))==null?null:A.dirty)||((A=e.settingsForm.get("twilioAccountSid"))==null?null:A.touched))),o(7),s("ngIf",((I=e.settingsForm.get("twilioPhoneNumber"))==null||I.errors==null?null:I.errors.required)&&(((I=e.settingsForm.get("twilioPhoneNumber"))==null?null:I.dirty)||((I=e.settingsForm.get("twilioPhoneNumber"))==null?null:I.touched))),o(),s("ngIf",((O=e.settingsForm.get("twilioPhoneNumber"))==null||O.errors==null?null:O.errors.pattern)&&(((O=e.settingsForm.get("twilioPhoneNumber"))==null?null:O.dirty)||((O=e.settingsForm.get("twilioPhoneNumber"))==null?null:O.touched)))}},dependencies:[j,G,V,ee,H,X,Z,$,W,Y,z,J,Q],styles:["select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:2px solid grey}#mainsection[_ngcontent-%COMP%]{border:1px solid #000;padding:10px;margin:10px 0;border-radius:5px;max-width:400px}.headings[_ngcontent-%COMP%]{margin-top:0;font-weight:700;color:#535151ba}.scrollable-section[_ngcontent-%COMP%]{height:80dvh;overflow-y:scroll;overflow-x:hidden}"]});let n=r;return n})();export{Ue as SettingsComponent};
