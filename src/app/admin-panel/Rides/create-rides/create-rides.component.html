<div class="container" style="width: 84dvw">
  <div class="row">
    <form [formGroup]="rideForm">
      <!-- Phone -->
      <div class="row mt-4">
        <div class="col-10 d-flex">
          <label for="Phone" class="col-2 label">Phone :- </label>
          <div class="col-5">
            <div class="d-flex">
              <input
                type="text"
                id="phone"
                class="form-control"
                formControlName="phone"
                placeholder="Enter User's Phone no."
                maxlength="10"
              />
              <button
                type="button"
                class="btn ms-4"
                (click)="onVerifyPhoneNumber()"
                [ngClass]="{
                  'btn-warning': rideForm.get('phone')?.invalid,
                  'btn-success': rideForm.get('phone')?.valid
                }"
                [disabled]="rideForm.get('phone')?.invalid"
              >
                Verify
              </button>
            </div>
            <small
              *ngIf="rideForm.get('phone')?.errors?.['required'] && (rideForm.get('phone')?.dirty || rideForm.get('phone')?.touched)"
              >*Phone number is required</small
            >
            <small
              *ngIf="rideForm.get('phone')?.errors?.['pattern'] && (rideForm.get('phone')?.dirty || rideForm.get('phone')?.touched)"
              >*Phone number must be 10 DIGITS</small
            >
          </div>
        </div>
      </div>
      <!-- If Verified -->
      <!-- <div [ngStyle]="{ display: isVerified ? 'block' : 'none' }"> -->
      <!-- profile -->
      <div class="row mt-4">
        <div class="d-flex col-6">
          <label for="userName" class="col-3 label">UserName :- </label>
          <div class="ms-3 col-7">
            <input
              type="text"
              id="userName"
              class="form-control"
              formControlName="userName"
            />
            <small
              *ngIf="rideForm.get('userName')?.errors?.['required'] && (rideForm.get('userName')?.dirty || rideForm.get('userName')?.touched)"
              >*User Name is required</small
            >
          </div>
        </div>
        <div class="d-flex col-6">
          <label for="userEmail" class="col-3 label">User Email :- </label>
          <div class="ms-3 col-7">
            <input
              type="text"
              id="userEmail"
              class="form-control"
              formControlName="userEmail"
              formControlName="userEmail"
            />
            <small
              *ngIf="rideForm.get('userEmail')?.errors?.['required'] && (rideForm.get('userEmail')?.dirty || rideForm.get('userEmail')?.touched)"
              >*User Email is required</small
            >
            <small
              *ngIf="rideForm.get('userEmail')?.errors?.['email'] && (rideForm.get('userEmail')?.dirty || rideForm.get('userEmail')?.touched)"
              >*Email Formate is not correct</small
            >
          </div>
        </div>
      </div>
      <!-- Pickup & Drop -->
      <div class="row mt-4">
        <div class="d-flex col-6">
          <label for="source" class="col-3 label">Source :- </label>
          <div class="col-7">
            <div class="d-flex">
              <input
                type="text"
                id="source"
                class="form-control ms-3"
                formControlName="source"
                placeholder="Enter Source Location"
              />
              <button
                id="currentLocationSelector"
                class="ms-3 btn btn-info"
                (click)="getCurrentLocation()"
                data-toggle="tooltip"
                title="Get Current Location"
              >
                <i class="fas fa-location"></i>
              </button>
            </div>
            <small
              *ngIf="rideForm.get('source')?.errors?.['required'] && (rideForm.get('source')?.dirty || rideForm.get('source')?.touched)"
              >*Source is required</small
            >
          </div>
        </div>
        <div class="d-flex col-6">
          <label for="destination" class="col-3 label">Destination :- </label>
          <div class="ms-3 col-7">
            <input
              type="text"
              id="destination"
              class="form-control"
              formControlName="destination"
              placeholder="Enter Destination "

            />
            <small
              *ngIf="rideForm.get('destination')?.errors?.['required'] && (rideForm.get('destination')?.dirty || rideForm.get('destination')?.touched)"
              >*Destination is required</small
            >
          </div>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-3">
          <button class="btn btn-primary" (click)="onAddStop()">
            Add Stop
          </button>
        </div>
      </div>
      <div class="row mt-4">
        <div
          class="col-12 d-flex mb-2"
          formArrayName="stops"
          *ngFor="let stop of stops.controls; index as i"
        >
          <label for="stop" class="col-1 samllLabel">Stop {{ i + 1 }} :-</label>
          <div class="col-4">
            <div class="d-flex">
              <input
                type="text"
                id="stop"
                class="form-control"
                [formControlName]="i"
              />
              <button class="ms-3 btn btn-danger" (click)="onRemoveStop(i)">
                Remove
              </button>
            </div>
            <small
              *ngIf="stop.errors?.['required'] && (stop.dirty || stop.touched)"
              >*Stop is required</small
            >
          </div>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-12 d-flex">
          <!-- ServiceType -->
          <div class="col-6 d-flex">
            <label for="ServiceType" class="col-3 label">Service Type :-</label>
            <div class="col-6">
              <select
                class="form-select"
                id="ServiceType"
                formControlName="serviceType"
              >
                <option [defaultSelected]="true" [disabled]="true">
                  Select Service Type
                </option>
                <option
                  *ngFor="let service of serviceTypes"
                  value="{{ service }}"
                >
                  {{ service }}
                </option>
              </select>
              <small
                *ngIf="rideForm.get('serviceType')?.errors?.['required'] && (rideForm.get('serviceType')?.dirty || rideForm.get('serviceType')?.touched)"
                >*Service Type is required</small
              >
            </div>
          </div>
          <!-- Payment Method -->
           <div class="ms-3 col-6">
            <div class="d-flex">
              <label for="paymentMethod" class="col-3 label"
                >Payment Method:-
              </label>
              <div class="form-check form-check-inline ms-3">
                <input
                  class="form-check-input"
                  type="radio"
                  name="paymentMethod"
                  id="cash"
                  value="cash"
                  formControlName="paymentMethod"
                />
                <label class="form-check-label ms-3 fs-5" for="cash">Cash</label>
              </div>
              <div class="form-check form-check-inline ms-4">
                <input
                  class="form-check-input"
                  type="radio"
                  name="paymentMethod"
                  id="card"
                  value="card"
                  formControlName="paymentMethod"
                />
                <label class="form-check-label ms-3 fs-5" for="card">Card</label>
              </div>
            </div>
            <small
                *ngIf="rideForm.get('paymentMethod')?.errors?.['required'] && (rideForm.get('paymentMethod')?.dirty || rideForm.get('paymentMethod')?.touched)"
                >*Payment Method is required</small
              >
           </div>
          
        </div>
      </div>
      <hr />
      <div class="row mb-4">
        <div class="d-flex justify-content-center">
          <button class="btn btn-success me-4" (click)="onCreateRide()">
            Create Ride
          </button>
          <button class="btn btn-danger" (click)="rideForm.reset()">Reset</button>
        </div>
      </div>
      <hr />
      <div class="row mt-4">
        <div id="map"></div>
      </div>
      <hr />
      <!-- </div> -->
    </form>
  </div>
</div>
